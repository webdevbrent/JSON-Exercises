<!DOCTYPE html>
<html lang="en">

<head>
    <title>AJAX</title>
</head>

<body>
    <h1>AJAX</h1>
    <div id="output">
    </div>
    <ul id="info"></ul>
    <button id="loadNew">Load</button>

    <script>
        var output = document.getElementById('output');
        var info = document.getElementById('info');
        var buttonClick = document.getElementById('loadNew');
        buttonClick.addEventListener('click', function () {
            loadAjax();
        })





        function loadAjax() {
            var request = new XMLHttpRequest();
            request.onreadystatechange = function () {
                //console.log('state changed', request.readyState, request.status)
                if (request.readyState == 4 && request.status == 200) {

                    var json = JSON.parse(request.responseText);
                    var data = json.results[0];
                    var name = '<h1>' + data.name.title + ' ' + data.name.first + ' ' + data.name.last + '</hr>'
                    var message = name + '<br><img src=' + data.picture.large + '>';
                    output.innerHTML = message;
                    console.log(data);

                }
            }
            request.open('GET', 'https://randomuser.me/api', true);
            request.send();
        }


    </script>
</body>

</html>